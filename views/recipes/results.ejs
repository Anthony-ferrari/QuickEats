<%- include("../partials/header") %>
<!-- the data interval is the timed changed for the slides, the class is what makes the images become a carousel  -->
<div id="carouselIndicator" class="carousel slide carousel-fade" data-ride="carousel" data-interval="8000">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#carouselIndicator" data-slide-to="0" class="active"></li>
      <li data-target="#carouselIndicator" data-slide-to="1"></li>
      <li data-target="#carouselIndicator" data-slide-to="2"></li>
      <li data-target="#carouselIndicator" data-slide-to="3"></li>
      <li data-target="#carouselIndicator" data-slide-to="4"></li>
      <li data-target="#carouselIndicator" data-slide-to="5"></li>
      <li data-target="#carouselIndicator" data-slide-to="6"></li>
      <li data-target="#carouselIndicator" data-slide-to="7"></li>
      <li data-target="#carouselIndicator" data-slide-to="8"></li>
      <li data-target="#carouselIndicator" data-slide-to="9"></li>
  </ol>
    <!-- Wrapper for slides --> 
    <div class="carousel-inner">
      <!-- setting the first one as active so active can be changed to the slide that we want to show up  -->
      <div class="carousel-item active">  
        <img class="fluid picture2" src="https://cdn.pixabay.com/photo/2017/11/10/14/43/bridge-2936500_1280.jpg" alt="Nature">  
        <h1 class="startSlideResults">Recipes Start on Next Slide</h1>
      </div>
    <!-- traverses through the list of objects (recipes) and creates the slide with the card on it -->
    <%for (var i in postBodyRequest){%>  
        <div class="carousel-item">  
          <img class="fluid picture2" src="https://cdn.pixabay.com/photo/2017/11/10/14/43/bridge-2936500_1280.jpg" alt="Nature">  
          <!-- the card will have an image, the title of recipe, ingredient list and link to recipe -->
            <div class="card">
              <img id="picture" class="card-img-top cardCarousel" src= "https://images.unsplash.com/photo-1495546968767-f0573cca821e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1489&q=80" alt="Card image cap">
                <form action="/Recipes" method="POST" class='ingredientsForm'>
                  <input type="hidden" id="recipeTitleInput" name="recipeTitle" value=""/>
                  <input type="hidden" id="recipeDescriptionInput" name="recipeDescription" value=""/>
                  <input type="hidden" id="recipeLinkInput" name="recipeLink" value=""/>
                  <div class="card-body cardCarouselBody">
                    <h5 id="recipeTitle" name="recipeTitle" class="card-title"><%= postBodyRequest[i].title%></h5>
                    <p id="recipeDescription" name="recipeDescription" class="card-text">Ingredients: <%= postBodyRequest[i].ingredients%></p>
                    <a id="recipeLink" name="recipeLink" href= "<%= postBodyRequest[i].href%>" class="btn btn-outline-success">Go to Recipe!</a>
                  </div>
                  <input class= "btn btn-info submitButton" type="submit" id="ingredientSubmit" name="ingredientSubmit" value="Submit"></input>
                </form>
            </div>  
        </div> 
    <%}%>
    </div>
<!-- Prev and Next Controls -->
    <!-- here the href is the slide indacator set above in the li's data-target -->
    <a class="carousel-control-prev" href="#carouselIndicator" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselIndicator" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div> 

<!-- the download button uses the object to convert to json file -->
<div class="divDownload">
  <%var datastr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(postBodyRequest))%>
  <a href="<%= datastr %>" class = "btn btn-info downloadButton" download = "recipes.json"id="downloadAnchorElem">Download Recipes</a>
</div>
<div class="citationResults">
  <p>Citations: </p>
  <p>Gold, Dan. "Recipe Book.” Unsplash, 2017, unsplash.com/photos/5O1ddenSM4g.</p>
  <p>Niestrój, Henryk. “A Bridge.” Pixabay, Ricoh Imaging Company, 2017, pixabay.com/photos/bridge-wooden-the-fog-foliage-2936500/.</p>
</div>
<script type="text/javascript" src="/jQueryForm.js"></script>
<%- include("../partials/footer") %>
